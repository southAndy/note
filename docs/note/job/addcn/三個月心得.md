#tasker


## 在舊專案架構體悟

### 介紹專案技術

專案是典型的 MVC 架構，前端主要由 laravel 內建模板語言 blade  所撰寫， 後端則是 laravel。


## 挑戰

### 學習新的模板語言

如同前面所說，這個專案頁面的產生方式，是透過 laravel blade 去產生，初次打開頁面檔案時

```blade.php
@if
	<div>123</div>
@else
	<div>564</div>
```

到這邊我覺得有寫過程式碼的大家應該都還蠻好理解的，就是透過簡單的 `if` , `else` 決定渲染內容。

### 前後端職責界線模糊

所謂的 MVC ，分別是 Model 、 View 、 Controller ，它們的職責分別為：

1. model：負責處理數據、業務邏輯，通常是跟資料庫交互的主要介面
2. view：負責將從 Model 取得的數據、邏輯，或是動態畫面回傳並顯示
3. controller: 控制器是模型和視圖之間的中介，負責接收用戶的輸入並相應地更新 model 或 view，通常會是處理 http 請求的部分。

試想今天有個任務是這樣的：

> 在 A 畫面新增一個按鈕

調整畫面很自然是前端的職責，即便 MVC 架構下畫面也可能是由後端回傳 HTML 架構，但架構切版總都是由前端負責，因此這個任務沒有模糊地帶。

再試想今天的任務是這樣：

>  更新 meta 的值，但是 meta 值存取是定義在 controller 內


從頁面的路由設定到頁面回傳什麼內容，都是透過 php 控制，在回傳實質 html 前，在 laravel 的機制下，會先經過所謂的 controller ，會將許多後端邏輯寫在這個地方，所以當你拿到預期外的回傳內容時，

### 獲取資料方式不一致

有時候透過直接把值透過 blade 取得，有時候透過 ajax  取得

### 缺少 API 文件

你 debug 的方式，除了檢查自己 request 攜帶的 payload 是否正確外，你還必須去懷疑， controller 那邊會不會做什麼處理，但這就超過一般前端的能力範圍。


### 多個樣式檔案對同頁面進行

### 後續改善

在與主管有了共識之後，做了以下事項來降低後續的耦合問題

1. 前後端統一透過 API 互動 
2. 


### 多次不完全迭代的痕跡

其實團隊也是有做過一些嘗試，




